// Main window for AuroraHeart IDE
import { VerticalBox, HorizontalBox, Button, TextEdit, ScrollView } from "std-widgets.slint";

export component MainWindow inherits Window {
    title: "AuroraHeart IDE";
    preferred-width: 1200px;
    preferred-height: 800px;

    callback open-file();
    callback save-file();
    callback send-message(string);

    in-out property <string> editor-text: "";
    in-out property <string> chat-input: "";
    in-out property <string> chat-output: "";

    HorizontalBox {
        padding: 0px;
        spacing: 0px;

        // File tree placeholder
        Rectangle {
            width: 200px;
            background: #2b2b2b;

            VerticalBox {
                padding: 10px;
                Text {
                    text: "File Tree";
                    color: #cccccc;
                    font-size: 14px;
                }
                Text {
                    text: "(Coming soon)";
                    color: #888888;
                    font-size: 12px;
                }
            }
        }

        // Main content area
        VerticalBox {
            padding: 0px;
            spacing: 0px;

            // Toolbar
            Rectangle {
                height: 40px;
                background: #333333;

                HorizontalBox {
                    padding: 5px;
                    spacing: 10px;

                    Button {
                        text: "Open";
                        clicked => {
                            root.open-file();
                        }
                    }

                    Button {
                        text: "Save";
                        clicked => {
                            root.save-file();
                        }
                    }
                }
            }

            // Editor and Chat split view
            HorizontalBox {
                padding: 0px;
                spacing: 0px;

                // Editor pane
                Rectangle {
                    background: #1e1e1e;

                    VerticalBox {
                        padding: 10px;

                        Text {
                            text: "Editor";
                            color: #cccccc;
                            font-size: 14px;
                        }

                        TextEdit {
                            text <=> root.editor-text;
                            font-size: 14px;
                        }
                    }
                }

                // Chat panel
                Rectangle {
                    width: 400px;
                    background: #252526;

                    VerticalBox {
                        padding: 10px;
                        spacing: 10px;

                        Text {
                            text: "AI Assistant (Claude)";
                            color: #cccccc;
                            font-size: 14px;
                        }

                        // Chat output
                        Rectangle {
                            background: #1e1e1e;
                            border-radius: 5px;

                            ScrollView {
                                Text {
                                    text: root.chat-output;
                                    color: #cccccc;
                                    font-size: 13px;
                                    wrap: word-wrap;
                                }
                            }
                        }

                        // Chat input
                        HorizontalBox {
                            spacing: 5px;

                            TextEdit {
                                text <=> root.chat-input;
                                font-size: 13px;
                                placeholder-text: "Ask Claude...";
                            }

                            Button {
                                text: "Send";
                                clicked => {
                                    root.send-message(root.chat-input);
                                    root.chat-input = "";
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
